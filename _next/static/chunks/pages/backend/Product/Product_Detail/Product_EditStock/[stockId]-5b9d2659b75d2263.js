(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8590],{4184:function(e,t){var a;!function(){"use strict";var r={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)){if(a.length){var s=c.apply(null,a);s&&e.push(s)}}else if("object"===o){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var l in a)r.call(a,l)&&a[l]&&e.push(l)}}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0!==(a=(function(){return c}).apply(t,[]))&&(e.exports=a)}()},9545:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/backend/Product/Product_Detail/Product_EditStock/[stockId]",function(){return a(3601)}])},3601:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var r=a(5893),c=a(7294),o=a(2198),s=a(1163);function l(){let e=(0,s.useRouter)(),{stockId:t}=e.query,[a,l]=(0,c.useState)({Product_Name:"",Product_Brand:"",Product_Model:"",Product_Detail:"",Price_product:"",Unit_Cost:"",Stock_Status:"",Product_pic:"",Stock_Quantity:"",Product_type_name:"",New_Stock_Quantity:"",New_Product_Price:"",New_Unit_Cost:""}),[n,d]=(0,c.useState)([]);(0,c.useEffect)(()=>{console.log("Stock ID:",t),(async()=>{try{let e=await fetch("https://server.jtppmotor.com/api/get_products/".concat(t));if(e.ok){let t=await e.json();console.log("Fetched product data:",t),d([{value:t.Product_type_name,label:t.Product_type_name}]),l({Product_Name:t.Product_Name,Product_Brand:t.Product_Brand,Product_Model:t.Product_Model,Product_Detail:t.Product_Detail,Price_product:t.Price_product,Unit_Cost:t.Unit_Cost,Stock_Status:t.Stock_Status,Product_pic:t.Product_pic,Stock_Quantity:t.Stock_Quantity,Product_type_name:t.Product_type_name,New_Unit_Cost:"",New_Stock_Quantity:"",New_Product_Price:""})}else console.error("Error fetching product data: ",e.statusText)}catch(e){console.error("Error fetching product data: ",e)}})()},[t]);let i=async r=>{r.preventDefault();try{let r=await fetch("https://server.jtppmotor.com/api/edit_stock/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),c=await r.json();r.ok?(console.log(c.message),e.push("/backend/Product/Product_list")):console.error(c.error||"Error updating product data")}catch(e){console.error("Error sending update request: ",e)}},u=e=>{l({...a,[e.target.name]:e.target.value})};return(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)(o.default,{}),(0,r.jsx)("div",{className:"flex-grow-1 bg-light",children:(0,r.jsxs)("div",{className:"container py-4",children:[(0,r.jsxs)("div",{className:"row mb-4",children:[(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("h2",{className:"mb-3",children:"เพิ่มสต็อกสินค้า"}),(0,r.jsx)("nav",{"aria-label":"breadcrumb",children:(0,r.jsxs)("ol",{className:"breadcrumb",children:[(0,r.jsx)("li",{className:"breadcrumb-item",children:(0,r.jsx)("a",{href:"/backend/Product/Product_list",children:"รายการสินค้า"})}),(0,r.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"เพิ่มสต็อกสินค้า"})]})})]}),(0,r.jsx)("div",{className:"col-auto",children:(0,r.jsxs)("button",{className:"btn btn-outline-secondary",onClick:()=>e.back(),children:[(0,r.jsx)("i",{className:"bi bi-arrow-left me-2"}),"ย้อนกลับ"]})})]}),(0,r.jsx)("div",{className:"card shadow-sm",children:(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("form",{onSubmit:i,children:[(0,r.jsxs)("div",{className:"row g-3",children:[(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"Product_Brand",className:"form-label",children:"ยี่ห้อสินค้า"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"Product_Brand",name:"Product_Brand",value:a.Product_Brand,onChange:u,readOnly:!0,disabled:!0})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"Product_Model",className:"form-label",children:"รุ่นสินค้า"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"Product_Model",name:"Product_Model",value:a.Product_Model,onChange:u,readOnly:!0,disabled:!0})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"Product_Name",className:"form-label",children:"ชื่อสินค้า"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"Product_Name",name:"Product_Name",value:a.Product_Name,onChange:u,readOnly:!0,disabled:!0})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"Product_pic",className:"form-label",children:"รูปภาพสินค้า"}),(0,r.jsx)("input",{type:"file",className:"form-control",id:"Product_pic",name:"Product_pic",onChange:e=>{let t=e.target.files[0];l({...a,Product_pic:t})},readOnly:!0,disabled:!0})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"Price_product",children:"ราคาสินค้า (ต่อชิ้น)"}),(0,r.jsx)("input",{type:"number",id:"Price_product",name:"Price_product",className:"form-control",value:a.Price_product,onChange:u,readOnly:!0,disabled:!0})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"Unit_Cost",children:"ราคาต้นทุนปัจจุบัน (ต่อชิ้น)"}),(0,r.jsx)("input",{type:"number",id:"Unit_Cost",name:"Unit_Cost",className:"form-control",value:a.Unit_Cost,onChange:u,readOnly:!0,disabled:!0})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"Stock_Status",children:"สถานะสินค้า"}),(0,r.jsxs)("select",{id:"Stock_Status",name:"Stock_Status",className:"form-control",value:a.Stock_Status,onChange:u,children:[(0,r.jsx)("option",{value:"มีสินค้า",children:"มีสินค้า"}),(0,r.jsx)("option",{value:"สินค้าหมด",children:"สินค้าหมด"})]})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"Stock_Quantity",children:"จำนวนสินค้าคงเหลือ"}),(0,r.jsx)("input",{type:"number",id:"Stock_Quantity",name:"Stock_Quantity",className:"form-control",value:a.Stock_Quantity,onChange:u,readOnly:!0,disabled:!0})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"Product_type_name",children:"หมวดหมู่สินค้า"}),(0,r.jsx)("input",{id:"Product_type_name",name:"Product_type_name",className:"form-control",value:a.Product_type_name,readOnly:!0,disabled:!0})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"New_Stock_Quantity",children:"จำนวนสินค้าใหม่"}),(0,r.jsx)("input",{type:"number",id:"New_Stock_Quantity",name:"New_Stock_Quantity",className:"form-control",value:a.New_Stock_Quantity,onChange:u})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"New_Product_Price",children:"ราคาสินค้าใหม่"}),(0,r.jsx)("input",{type:"number",id:"New_Product_Price",name:"New_Product_Price",className:"form-control",value:a.New_Product_Price,onChange:u})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{htmlFor:"New_Unit_Cost",children:"ราคาต้นทุนใหม่ (ต่อชิ้น)"}),(0,r.jsx)("input",{type:"number",id:"New_Unit_Cost",name:"New_Unit_Cost",className:"form-control",value:a.New_Unit_Cost,onChange:u})]}),(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsx)("label",{htmlFor:"Product_Detail",className:"form-label",children:"รายละเอียดสินค้า"}),(0,r.jsx)("textarea",{className:"form-control",id:"Product_Detail",name:"Product_Detail",rows:"3",value:a.Product_Detail,onChange:u})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,r.jsx)("i",{className:"bi bi-save me-2"}),"บันทึกการแก้ไข"]})})]})})})]})})]})}}},function(e){e.O(0,[2198,2888,9774,179],function(){return e(e.s=9545)}),_N_E=e.O()}]);