(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5098],{4184:function(e,a){var t;!function(){"use strict";var s={}.hasOwnProperty;function c(){for(var e=[],a=0;a<arguments.length;a++){var t=arguments[a];if(t){var r=typeof t;if("string"===r||"number"===r)e.push(t);else if(Array.isArray(t)){if(t.length){var n=c.apply(null,t);n&&e.push(n)}}else if("object"===r){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var d in t)s.call(t,d)&&t[d]&&e.push(d)}}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0!==(t=(function(){return c}).apply(a,[]))&&(e.exports=t)}()},9487:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/backend/Product/Product_list",function(){return t(281)}])},281:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return b}});var s=t(5893),c=t(645),r=t.n(c),n=t(7294),d=t(2198),i=t(1163),o=t(6455),l=t.n(o);function b(){let[e,a]=(0,n.useState)([]),[t,c]=(0,n.useState)(""),o=(0,i.useRouter)();(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("https://server.jtppmotor.com/api/all_products");if(e.ok){let t=await e.json();a(t)}else console.error("มีข้อผิดพลาดในการดึงข้อมูลสินค้า: ",e.statusText)}catch(e){console.error("เกิดข้อผิดพลาดในการดึงข้อมูลสินค้า: ",e)}})()},[]);let b=e=>{o.push("/backend/Product/Product_Detail/".concat(e))},x=(e,a)=>{l().fire({title:a,imageUrl:"https://server.jtppmotor.com/uploads/".concat(e),imageWidth:400,imageHeight:400,imageAlt:a,confirmButtonText:"ปิด"})},u=e.filter(e=>{var a,s,c,r,n;let d=t.toLowerCase();return((null===(a=e.Product_ID)||void 0===a?void 0:a.toString().toLowerCase())||"").includes(d)||((null===(s=e.Product_Name)||void 0===s?void 0:s.toLowerCase())||"").includes(d)||((null===(c=e.Product_type_name)||void 0===c?void 0:c.toLowerCase())||"").includes(d)||((null===(r=e.Product_Brand)||void 0===r?void 0:r.toLowerCase())||"").includes(d)||((null===(n=e.Product_Model)||void 0===n?void 0:n.toLowerCase())||"").includes(d)}),j=async t=>{l().fire({title:"ยืนยันการลบสินค้า",text:"คุณแน่ใจหรือไม่ว่าต้องการลบสินค้านี้?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"ใช่, ลบสินค้า",cancelButtonText:"ยกเลิก"}).then(async s=>{if(s.isConfirmed)try{(await fetch("https://server.jtppmotor.com/api/delete_product/".concat(t),{method:"DELETE"})).ok?(a(e.filter(e=>e.Product_ID!==t)),l().fire({title:"ลบสำเร็จ!",text:"สินค้าถูกลบออกแล้ว",icon:"success"})):l().fire({title:"เกิดข้อผิดพลาด",text:"ไม่สามารถลบสินค้าได้",icon:"error"})}catch(e){console.error("เกิดข้อผิดพลาดในการลบสินค้า: ",e),l().fire({title:"เกิดข้อผิดพลาด",text:"ไม่สามารถลบสินค้าได้",icon:"error"})}})};return(0,s.jsxs)("div",{className:"jsx-a9c0bb1d6ee23276 d-flex",children:[(0,s.jsx)(d.default,{}),(0,s.jsx)("div",{className:"jsx-a9c0bb1d6ee23276 flex-grow-1 product-container",children:(0,s.jsxs)("div",{className:"jsx-a9c0bb1d6ee23276 container py-4",children:[(0,s.jsxs)("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #dee2e6",padding:"10px 0"},className:"jsx-a9c0bb1d6ee23276 header d-flex justify-content-between align-items-center mb-4",children:[(0,s.jsx)("h2",{className:"jsx-a9c0bb1d6ee23276 page-title",children:"จัดการสินค้า"}),(0,s.jsxs)("button",{type:"button",onClick:()=>o.back(),className:"jsx-a9c0bb1d6ee23276 btn btn-outline-secondary btn-back",children:[(0,s.jsx)("i",{className:"jsx-a9c0bb1d6ee23276 bi bi-arrow-left"})," ย้อนกลับ"]})]}),(0,s.jsx)("div",{className:"jsx-a9c0bb1d6ee23276 card mb-4 shadow-sm",children:(0,s.jsx)("div",{className:"jsx-a9c0bb1d6ee23276 card-body",children:(0,s.jsxs)("div",{className:"jsx-a9c0bb1d6ee23276 d-flex justify-content-between align-items-center",children:[(0,s.jsxs)("div",{className:"jsx-a9c0bb1d6ee23276",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{o.push("/backend/Product/Add_Product")},className:"jsx-a9c0bb1d6ee23276 btn btn-success me-2",children:[(0,s.jsx)("i",{className:"jsx-a9c0bb1d6ee23276 bi bi-plus-circle me-2"}),"เพิ่มสินค้า"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{o.push("/backend/Product/Category")},className:"jsx-a9c0bb1d6ee23276 btn btn-info me-2",children:[(0,s.jsx)("i",{className:"jsx-a9c0bb1d6ee23276 bi bi-list-ul me-2"}),"หมวดหมู่"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{o.push("/backend/Product/Product_Brand_And_Model")},className:"jsx-a9c0bb1d6ee23276 btn btn-info",children:[(0,s.jsx)("i",{className:"jsx-a9c0bb1d6ee23276 bi bi-list-ul me-2"}),"ยี่ห้อและรุ่น"]})]}),(0,s.jsx)("input",{type:"text",placeholder:"ค้นหาสินค้า...",value:t,onChange:e=>c(e.target.value),className:"jsx-a9c0bb1d6ee23276 form-control w-auto search-input"})]})})}),(0,s.jsxs)("div",{className:"jsx-a9c0bb1d6ee23276 card shadow-sm",children:[(0,s.jsx)("div",{className:"jsx-a9c0bb1d6ee23276 card-header income-gradient text-white",children:(0,s.jsx)("h5",{className:"jsx-a9c0bb1d6ee23276 mb-0",children:"รายการสินค้าทั้งหมด"})}),(0,s.jsx)("div",{className:"jsx-a9c0bb1d6ee23276 card-body",children:(0,s.jsx)("div",{className:"jsx-a9c0bb1d6ee23276 table-responsive",children:(0,s.jsxs)("table",{className:"jsx-a9c0bb1d6ee23276 table table-striped table-hover align-middle",children:[(0,s.jsx)("thead",{className:"jsx-a9c0bb1d6ee23276 table-light",children:(0,s.jsxs)("tr",{className:"jsx-a9c0bb1d6ee23276",children:[(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"รหัส"}),(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"รูป"}),(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"หมวดหมู่"}),(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"ยี่ห้อ"}),(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"รุ่น"}),(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"ชื่อ"}),(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"ราคา"}),(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"จำนวน"}),(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"สถานะ"}),(0,s.jsx)("th",{className:"jsx-a9c0bb1d6ee23276",children:"จัดการ"})]})}),(0,s.jsx)("tbody",{className:"jsx-a9c0bb1d6ee23276",children:u.length>0?u.map(e=>(0,s.jsxs)("tr",{className:"jsx-a9c0bb1d6ee23276",children:[(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:e.Product_ID}),(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:(0,s.jsx)("img",{src:"https://server.jtppmotor.com/uploads/".concat(e.Product_pic),alt:e.Product_Name,width:"50",height:"50",style:{cursor:"pointer"},onClick:()=>x(e.Product_pic,e.Product_Name),className:"jsx-a9c0bb1d6ee23276"})}),(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:e.Product_type_name}),(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:e.Product_Brand}),(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:e.Product_Model}),(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:e.Product_Name}),(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:e.Price_product}),(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:e.Stock_Quantity}),(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:e.Stock_Quantity>0?"มีสินค้า":"สินค้าหมด"}),(0,s.jsx)("td",{className:"jsx-a9c0bb1d6ee23276",children:(0,s.jsx)("div",{role:"group",className:"jsx-a9c0bb1d6ee23276 btn-group",children:(0,s.jsxs)("td",{className:"jsx-a9c0bb1d6ee23276",children:[(0,s.jsx)("button",{onClick:()=>b(e.Product_ID),className:"jsx-a9c0bb1d6ee23276 btn btn-info btn-sm me-2",children:"ดูรายละเอียด"}),(0,s.jsx)("button",{onClick:()=>j(e.Product_ID),className:"jsx-a9c0bb1d6ee23276 btn btn-danger btn-sm",children:"ลบ"})]})})})]},e.Stock_ID)):(0,s.jsx)("tr",{className:"jsx-a9c0bb1d6ee23276",children:(0,s.jsx)("td",{colSpan:"10",className:"jsx-a9c0bb1d6ee23276 text-center",children:"ไม่พบข้อมูล"})})})]})})})]})]})}),(0,s.jsx)(r(),{id:"a9c0bb1d6ee23276",children:".product-container.jsx-a9c0bb1d6ee23276{background-color:#f0f2f5;min-height:100vh;padding:20px}.page-title.jsx-a9c0bb1d6ee23276{margin:0;font-size:1.5rem;font-weight:700;background:-webkit-linear-gradient(45deg,#2c3e50,#3498db);background:-moz-linear-gradient(45deg,#2c3e50,#3498db);background:-o-linear-gradient(45deg,#2c3e50,#3498db);background:linear-gradient(45deg,#2c3e50,#3498db);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.search-input.jsx-a9c0bb1d6ee23276{max-width:300px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;padding:10px 20px;border:2px solid#e0e0e0;-webkit-transition:all.3s;-moz-transition:all.3s;-o-transition:all.3s;transition:all.3s}.btn.jsx-a9c0bb1d6ee23276{-webkit-transition:all.3s;-moz-transition:all.3s;-o-transition:all.3s;transition:all.3s}.btn.jsx-a9c0bb1d6ee23276:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}.btn-success.jsx-a9c0bb1d6ee23276{background:-webkit-linear-gradient(45deg,#2ecc71,#27ae60);background:-moz-linear-gradient(45deg,#2ecc71,#27ae60);background:-o-linear-gradient(45deg,#2ecc71,#27ae60);background:linear-gradient(45deg,#2ecc71,#27ae60);border:none}.btn-info.jsx-a9c0bb1d6ee23276{background:-webkit-linear-gradient(45deg,#3498db,#2980b9);background:-moz-linear-gradient(45deg,#3498db,#2980b9);background:-o-linear-gradient(45deg,#3498db,#2980b9);background:linear-gradient(45deg,#3498db,#2980b9);border:none;color:white}.income-gradient.jsx-a9c0bb1d6ee23276{background:-webkit-linear-gradient(315deg,#1a5f7a 0%,#2c3e50 100%);background:-moz-linear-gradient(315deg,#1a5f7a 0%,#2c3e50 100%);background:-o-linear-gradient(315deg,#1a5f7a 0%,#2c3e50 100%);background:linear-gradient(135deg,#1a5f7a 0%,#2c3e50 100%)}.table.jsx-a9c0bb1d6ee23276 thead.jsx-a9c0bb1d6ee23276 th.jsx-a9c0bb1d6ee23276{background:-webkit-linear-gradient(45deg,#34495e,#415b76);background:-moz-linear-gradient(45deg,#34495e,#415b76);background:-o-linear-gradient(45deg,#34495e,#415b76);background:linear-gradient(45deg,#34495e,#415b76);color:#fff;font-weight:500;padding:15px;border:none}.table.jsx-a9c0bb1d6ee23276 tbody.jsx-a9c0bb1d6ee23276 tr.jsx-a9c0bb1d6ee23276{-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.table.jsx-a9c0bb1d6ee23276 tbody.jsx-a9c0bb1d6ee23276 tr.jsx-a9c0bb1d6ee23276:hover{background-color:rgba(52,152,219,.05);-webkit-transform:scale(1.005);-moz-transform:scale(1.005);-ms-transform:scale(1.005);-o-transform:scale(1.005);transform:scale(1.005)}"})]})}}},function(e){e.O(0,[645,2198,2888,9774,179],function(){return e(e.s=9487)}),_N_E=e.O()}]);