(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9699],{4184:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=s.apply(null,n);a&&t.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var i in n)r.call(n,i)&&n[i]&&t.push(i)}}}return t.join(" ")}t.exports?(s.default=s,t.exports=s):void 0!==(n=(function(){return s}).apply(e,[]))&&(t.exports=n)}()},9190:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/backend/Product/Category",function(){return n(1302)}])},1302:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(5893),s=n(6455),o=n.n(s),a=n(2198),i=n(1163),c=n(7294);function l(){let t=(0,i.useRouter)(),[e,n]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{try{let t=await fetch("https://server.jtppmotor.com/api/category"),e=await t.json();n(e)}catch(t){console.error("เกิดข้อผิดพลาดในการดึงข้อมูล: ",t)}})()},[]);let s=async e=>{try{let n=await fetch("https://server.jtppmotor.com/api/category/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),r=await n.json();n.ok?(console.log(r.message),t.reload()):console.error(r.error||"มีข้อผิดพลาดในการลบข้อมูล")}catch(t){console.error("มีข้อผิดพลาดในการส่งคำขอลบข้อมูล: ",t)}},l=async(e,n)=>{let{value:r}=await o().fire({title:"แก้ไขชื่อหมวดหมู่",input:"text",inputLabel:"ชื่อหมวดหมู่",inputValue:n,showCancelButton:!0,confirmButtonText:"บันทึก",cancelButtonText:"ยกเลิก",inputValidator:t=>{if(!t)return"กรุณากรอกชื่อหมวดหมู่!"}});if(r)try{let n=await fetch("https://server.jtppmotor.com/api/category/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({Product_type_Name:r})}),s=await n.json();n.ok?(o().fire("สำเร็จ!","แก้ไขชื่อหมวดหมู่สำเร็จ","success"),t.reload()):o().fire("ผิดพลาด!",s.error||"มีข้อผิดพลาดในการแก้ไขชื่อหมวดหมู่","error")}catch(t){console.error("มีข้อผิดพลาดในการแก้ไขชื่อหมวดหมู่: ",t),o().fire("ผิดพลาด!","มีข้อผิดพลาดในการแก้ไขชื่อหมวดหมู่","error")}},d=async()=>{let{value:e}=await o().fire({title:"เพิ่มหมวดหมู่ใหม่",input:"text",inputLabel:"ชื่อหมวดหมู่",inputPlaceholder:"กรอกชื่อหมวดหมู่สินค้า",showCancelButton:!0,confirmButtonText:"เพิ่มหมวดหมู่",cancelButtonText:"ยกเลิก",inputValidator:t=>{if(!t)return"กรุณากรอกชื่อหมวดหมู่!"}});if(e)try{let n=await fetch("https://server.jtppmotor.com/api/category",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Product_type_Name:e})}),r=await n.json();n.ok?(o().fire("สำเร็จ!","เพิ่มหมวดหมู่สำเร็จ","success"),t.reload()):o().fire("ผิดพลาด!",r.error||"มีข้อผิดพลาดในการเพิ่มหมวดหมู่","error")}catch(t){console.error("มีข้อผิดพลาดในการเพิ่มหมวดหมู่: ",t),o().fire("ผิดพลาด!","มีข้อผิดพลาดในการเพิ่มหมวดหมู่","error")}};return(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)(a.default,{}),(0,r.jsx)("div",{className:"flex-grow-1",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",style:{width:"100%",height:"50px"},children:(0,r.jsx)("div",{className:"d-flex justify-content-end w-98",children:(0,r.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>{t.push("/backend/Product/Product_list")},children:"ย้อนกลับ"})})}),(0,r.jsx)("div",{className:"d-flex flex-wrap align-items-center justify-content-center justify-content-md-between",children:(0,r.jsxs)("a",{className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none",children:[(0,r.jsx)("i",{className:"bi bi-cart me-2"}),"หมวดหมู่สินค้า"]})}),(0,r.jsx)("div",{className:"my-4"}),(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsx)("div",{className:"d-flex justify-content-start w-50",children:(0,r.jsx)("button",{type:"button",className:"btn btn-primary d-inline-flex align-items-center",onClick:d,children:"เพิ่มหมวดหมู่"})}),(0,r.jsx)("div",{className:"d-flex justify-content-end w-30",children:(0,r.jsx)("input",{type:"text",className:"form-control",placeholder:"ค้นหา..."})})]}),(0,r.jsx)("div",{className:"my-3"}),(0,r.jsx)("div",{className:"table-responsive small",children:(0,r.jsxs)("table",{className:"table table-striped table-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"รหัส"}),(0,r.jsx)("th",{scope:"col",children:"ชื่อ"}),(0,r.jsx)("th",{scope:"col",children:"จัดการ"})]})}),(0,r.jsx)("tbody",{children:e.map(t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t.Product_type_ID}),(0,r.jsx)("td",{children:t.Product_type_name}),(0,r.jsxs)("td",{children:[(0,r.jsx)("button",{className:"btn btn-warning px-1 mb-0 rounded-0 btn-sma",type:"button",onClick:()=>l(t.Product_type_ID,t.Product_type_name),children:"แก้ไข"}),(0,r.jsx)("button",{className:"btn btn-danger px-1 mb-0 rounded-0 btn-sma",type:"button",onClick:()=>s(t.Product_type_ID),children:"ลบข้อมูล"})]})]},t.Product_type_ID))})]})})]})})]})}}},function(t){t.O(0,[2198,2888,9774,179],function(){return t(t.s=9190)}),_N_E=t.O()}]);