(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2343],{4184:function(e,t){var r;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var d=typeof r;if("string"===d||"number"===d)e.push(r);else if(Array.isArray(r)){if(r.length){var s=n.apply(null,r);s&&e.push(s)}}else if("object"===d){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var o in r)a.call(r,o)&&r[o]&&e.push(o)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0!==(r=(function(){return n}).apply(t,[]))&&(e.exports=r)}()},6728:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/backend/Car/Car",function(){return r(6659)}])},6659:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(5893),n=r(645),d=r.n(n),s=r(2198),o=r(1163),i=r(7294),c=r(6455),l=r.n(c),f=r(7630);let b=r.n(f)()(l());function m(){let e=(0,o.useRouter)(),[t,r]=(0,i.useState)([]),[n,c]=(0,i.useState)(""),[l,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{m()},[]);let m=async()=>{f(!0);try{let e=await fetch("https://server.jtppmotor.com/api/car/get_brands"),t=await e.json();r(t)}catch(e){console.error("เกิดข้อผิดพลาดในการดึงข้อมูลทั้งหมด:",e),b.fire("เกิดข้อผิดพลาด","ไม่สามารถดึงข้อมูลแบรนด์ได้","error")}finally{f(!1)}},g=async e=>{try{console.log("Sending data to API:",{Brands_name:e.brandName});let t=await fetch("https://server.jtppmotor.com/api/car/add_brand",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Brands_name:e.brandName})});if(t.ok)b.fire("สำเร็จ","เพิ่มข้อมูลสำเร็จแล้ว","success"),m();else{let e=await t.json();b.fire("ผิดพลาด","เกิดข้อผิดพลาดบางอย่าง: "+e.error,"error")}}catch(e){b.fire("ผิดพลาด","การเพิ่มข้อมูลล้มเหลว","error")}},x=async(e,t)=>{try{console.log("Sending data to API:",{Brands_ID:e,Brands_name:t});let r=await fetch("https://server.jtppmotor.com/api/car/edit_brand/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({Brands_ID:e,Brands_name:t})});if(r.ok)b.fire("สำเร็จ","อัปเดตข้อมูลสำเร็จแล้ว","success"),m();else{let e=await r.json();b.fire("ผิดพลาด","เกิดข้อผิดพลาดบางอย่าง: "+e.error,"error")}}catch(e){b.fire("ผิดพลาด","การอัปเดตข้อมูลล้มเหลว","error")}},u=async e=>{try{let t=await fetch("https://server.jtppmotor.com/api/car/delete_brand/".concat(e),{method:"DELETE"});if(t.ok)b.fire("สำเร็จ","ลบข้อมูลสำเร็จแล้ว","success"),m();else{let e=await t.json();b.fire("ผิดพลาด","เกิดข้อผิดพลาดบางอย่าง: "+e.error,"error")}}catch(e){b.fire("ผิดพลาด","การลบข้อมูลล้มเหลว","error")}},h=e=>{b.fire({title:"ยืนยันการลบ",text:"คุณแน่ใจหรือว่าต้องการลบข้อมูลยี่ห้อนี้?",icon:"warning",showCancelButton:!0,confirmButtonText:"ใช่, ลบเลย!",cancelButtonText:"ยกเลิก"}).then(t=>{t.isConfirmed&&u(e)})},j=(e,t)=>{b.fire({title:"แก้ไขยี่ห้อ",html:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"ชื่อยี่ห้อ",id:"brandName",defaultValue:t}),showCancelButton:!0,confirmButtonText:"ยืนยัน",cancelButtonText:"ยกเลิก",preConfirm:()=>{let t=b.getPopup().querySelector("#brandName").value;return t?{Brands_ID:e,brandName:t}:(b.showValidationMessage("กรุณากรอกชื่อยี่ห้อ"),!1)}}).then(e=>{e.isConfirmed&&x(e.value.Brands_ID,e.value.brandName)})},p=t=>{e.push("/backend/Car/Model/".concat(t))},k=t.filter(e=>e.Brands_name.toLowerCase().includes(n.toLowerCase()));return(0,a.jsxs)("div",{className:"jsx-2c66fde20440df5d d-flex",children:[(0,a.jsx)(s.default,{}),(0,a.jsx)("div",{className:"jsx-2c66fde20440df5d flex-grow-1 car-container",children:(0,a.jsxs)("div",{className:"jsx-2c66fde20440df5d container py-4",children:[(0,a.jsxs)("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #dee2e6",padding:"10px 0"},className:"jsx-2c66fde20440df5d header d-flex justify-content-between align-items-center mb-4",children:[(0,a.jsx)("h2",{className:"jsx-2c66fde20440df5d page-title",children:"ข้อมูลยี่ห้อรถ"}),(0,a.jsxs)("button",{type:"button",onClick:()=>e.back(),className:"jsx-2c66fde20440df5d btn btn-outline-secondary btn-back",children:[(0,a.jsx)("i",{className:"jsx-2c66fde20440df5d bi bi-arrow-left"})," ย้อนกลับ"]})]}),(0,a.jsx)("div",{className:"jsx-2c66fde20440df5d card mb-4 shadow-sm",children:(0,a.jsx)("div",{className:"jsx-2c66fde20440df5d card-body",children:(0,a.jsxs)("div",{className:"jsx-2c66fde20440df5d d-flex justify-content-between align-items-center",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{b.fire({title:"เพิ่มยี่ห้อ",html:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"ชื่อยี่ห้อ",id:"brandName"}),showCancelButton:!0,confirmButtonText:"ยืนยัน",cancelButtonText:"ยกเลิก",preConfirm:()=>{let e=b.getPopup().querySelector("#brandName").value;return e?{brandName:e}:(b.showValidationMessage("กรุณากรอกชื่อยี่ห้อ"),!1)}}).then(e=>{e.isConfirmed&&g(e.value)})},className:"jsx-2c66fde20440df5d btn btn-success",children:[(0,a.jsx)("i",{className:"jsx-2c66fde20440df5d bi bi-plus-circle me-2"}),"เพิ่มยี่ห้อ"]}),(0,a.jsx)("input",{type:"text",placeholder:"ค้นหา...",value:n,onChange:e=>{c(e.target.value)},className:"jsx-2c66fde20440df5d form-control w-auto search-input"})]})})}),(0,a.jsxs)("div",{className:"jsx-2c66fde20440df5d card shadow-sm",children:[(0,a.jsx)("div",{className:"jsx-2c66fde20440df5d card-header income-gradient text-white",children:(0,a.jsx)("h5",{className:"jsx-2c66fde20440df5d mb-0",children:"รายการยี่ห้อรถ"})}),(0,a.jsx)("div",{className:"jsx-2c66fde20440df5d card-body",children:(0,a.jsx)("div",{className:"jsx-2c66fde20440df5d table-responsive",children:(0,a.jsxs)("table",{className:"jsx-2c66fde20440df5d table table-striped table-hover align-middle",children:[(0,a.jsx)("thead",{className:"jsx-2c66fde20440df5d table-light",children:(0,a.jsxs)("tr",{className:"jsx-2c66fde20440df5d",children:[(0,a.jsx)("th",{className:"jsx-2c66fde20440df5d",children:"ลำดับ"}),(0,a.jsx)("th",{className:"jsx-2c66fde20440df5d",children:"ยี่ห้อ"}),(0,a.jsx)("th",{className:"jsx-2c66fde20440df5d",children:"จัดการ"})]})}),(0,a.jsx)("tbody",{className:"jsx-2c66fde20440df5d",children:k.length>0?k.map((e,t)=>(0,a.jsxs)("tr",{className:"jsx-2c66fde20440df5d",children:[(0,a.jsx)("td",{className:"jsx-2c66fde20440df5d",children:t+1}),(0,a.jsx)("td",{className:"jsx-2c66fde20440df5d",children:e.Brands_name}),(0,a.jsxs)("td",{className:"jsx-2c66fde20440df5d",children:[(0,a.jsxs)("button",{onClick:()=>p(e.Brands_ID),className:"jsx-2c66fde20440df5d btn btn-warning me-2",children:[(0,a.jsx)("i",{className:"jsx-2c66fde20440df5d bi bi-eye me-1"}),"ตรวจสอบรุ่นของรถ"]}),(0,a.jsxs)("button",{onClick:()=>j(e.Brands_ID,e.Brands_name),className:"jsx-2c66fde20440df5d btn btn-info me-2",children:[(0,a.jsx)("i",{className:"jsx-2c66fde20440df5d bi bi-pencil me-1"}),"แก้ไข"]}),(0,a.jsxs)("button",{onClick:()=>h(e.Brands_ID),className:"jsx-2c66fde20440df5d btn btn-danger",children:[(0,a.jsx)("i",{className:"jsx-2c66fde20440df5d bi bi-trash me-1"}),"ลบ"]})]})]},t)):(0,a.jsx)("tr",{className:"jsx-2c66fde20440df5d",children:(0,a.jsx)("td",{colSpan:"3",className:"jsx-2c66fde20440df5d text-center",children:"ไม่พบข้อมูล"})})})]})})})]})]})}),(0,a.jsx)(d(),{id:"2c66fde20440df5d",children:".car-container.jsx-2c66fde20440df5d{background-color:#f0f2f5;min-height:100vh;padding:20px}.page-title.jsx-2c66fde20440df5d{margin:0;font-size:1.5rem;font-weight:700;background:-webkit-linear-gradient(45deg,#2c3e50,#3498db);background:-moz-linear-gradient(45deg,#2c3e50,#3498db);background:-o-linear-gradient(45deg,#2c3e50,#3498db);background:linear-gradient(45deg,#2c3e50,#3498db);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.search-input.jsx-2c66fde20440df5d{max-width:300px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;padding:10px 20px;border:2px solid#e0e0e0;-webkit-transition:all.3s;-moz-transition:all.3s;-o-transition:all.3s;transition:all.3s}.search-input.jsx-2c66fde20440df5d:focus{border-color:#2ecc71;-webkit-box-shadow:0 0 0 .2rem rgba(46,204,113,.25);-moz-box-shadow:0 0 0 .2rem rgba(46,204,113,.25);box-shadow:0 0 0 .2rem rgba(46,204,113,.25)}.btn.jsx-2c66fde20440df5d{-webkit-transition:all.3s;-moz-transition:all.3s;-o-transition:all.3s;transition:all.3s}.btn.jsx-2c66fde20440df5d:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}.btn-success.jsx-2c66fde20440df5d{background:-webkit-linear-gradient(45deg,#2ecc71,#27ae60);background:-moz-linear-gradient(45deg,#2ecc71,#27ae60);background:-o-linear-gradient(45deg,#2ecc71,#27ae60);background:linear-gradient(45deg,#2ecc71,#27ae60);border:none;padding:10px 20px}.btn-warning.jsx-2c66fde20440df5d{background:-webkit-linear-gradient(45deg,#f1c40f,#f39c12);background:-moz-linear-gradient(45deg,#f1c40f,#f39c12);background:-o-linear-gradient(45deg,#f1c40f,#f39c12);background:linear-gradient(45deg,#f1c40f,#f39c12);border:none;color:white}.btn-info.jsx-2c66fde20440df5d{background:-webkit-linear-gradient(45deg,#3498db,#2980b9);background:-moz-linear-gradient(45deg,#3498db,#2980b9);background:-o-linear-gradient(45deg,#3498db,#2980b9);background:linear-gradient(45deg,#3498db,#2980b9);border:none;color:white}.btn-danger.jsx-2c66fde20440df5d{background:-webkit-linear-gradient(45deg,#e74c3c,#c0392b);background:-moz-linear-gradient(45deg,#e74c3c,#c0392b);background:-o-linear-gradient(45deg,#e74c3c,#c0392b);background:linear-gradient(45deg,#e74c3c,#c0392b);border:none}.income-gradient.jsx-2c66fde20440df5d{background:-webkit-linear-gradient(315deg,#1a5f7a 0%,#2c3e50 100%);background:-moz-linear-gradient(315deg,#1a5f7a 0%,#2c3e50 100%);background:-o-linear-gradient(315deg,#1a5f7a 0%,#2c3e50 100%);background:linear-gradient(135deg,#1a5f7a 0%,#2c3e50 100%)}.table.jsx-2c66fde20440df5d thead.jsx-2c66fde20440df5d th.jsx-2c66fde20440df5d{background:-webkit-linear-gradient(45deg,#34495e,#415b76);background:-moz-linear-gradient(45deg,#34495e,#415b76);background:-o-linear-gradient(45deg,#34495e,#415b76);background:linear-gradient(45deg,#34495e,#415b76);color:#fff;font-weight:500;padding:15px;font-size:.95rem;border:none;text-transform:uppercase;letter-spacing:.5px}.table.jsx-2c66fde20440df5d tbody.jsx-2c66fde20440df5d tr.jsx-2c66fde20440df5d{-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.table.jsx-2c66fde20440df5d tbody.jsx-2c66fde20440df5d tr.jsx-2c66fde20440df5d:hover{background-color:rgba(52,152,219,.05);-webkit-transform:scale(1.005);-moz-transform:scale(1.005);-ms-transform:scale(1.005);-o-transform:scale(1.005);transform:scale(1.005)}.card.jsx-2c66fde20440df5d{border:none;-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;-webkit-transition:-webkit-transform.2s,box-shadow.2s;-moz-transition:-moz-transform.2s,box-shadow.2s;-o-transition:-o-transform.2s,box-shadow.2s;transition:-webkit-transform.2s,box-shadow.2s;transition:-moz-transform.2s,box-shadow.2s;transition:-o-transform.2s,box-shadow.2s;transition:transform.2s,box-shadow.2s;margin-bottom:25px}.card-header.jsx-2c66fde20440df5d{border-bottom:2px solid rgba(0,0,0,.1);padding:15px 20px}"})]})}},7630:function(e,t,r){var a;a=function(e,t){"use strict";let r=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],a=()=>{};return function(n){function d(t){let a={},n={},d=r.map(e=>e.key);return Object.entries(t).forEach(t=>{let[r,s]=t;d.includes(r)&&e.isValidElement(s)?(a[r]=s,n[r]=" "):n[r]=s}),[a,n]}function s(e,a){Object.entries(a).forEach(a=>{let[d,s]=a,o=r.find(e=>e.key===d).getter(n),i=t.createRoot(o);i.render(s),e.__roots.push(i)})}function o(e){e.__roots.forEach(e=>{e.unmount()}),e.__roots=[]}return class extends n{static argsToParams(t){if(!(e.isValidElement(t[0])||e.isValidElement(t[1])))return n.argsToParams(t);{let e={};return["title","html","icon"].forEach((r,a)=>{void 0!==t[a]&&(e[r]=t[a])}),e}}_main(e,t){this.__roots=[],this.__params=Object.assign({},t,e);let[r,n]=d(this.__params),i=n.willOpen||a,c=n.didOpen||a,l=n.didDestroy||a;return super._main(Object.assign({},n,{willOpen:e=>{s(this,r),i(e)},didOpen:e=>{setTimeout(()=>{c(e)})},didDestroy:e=>{l(e),o(this)}}))}update(e){Object.assign(this.__params,e),o(this);let[t,r]=d(this.__params);super.update(r),s(this,t)}}}},e.exports=a(r(7294),r(745))}},function(e){e.O(0,[645,2198,2888,9774,179],function(){return e(e.s=6728)}),_N_E=e.O()}]);