(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6612],{4184:function(a,e){var s;!function(){"use strict";var b={}.hasOwnProperty;function r(){for(var a=[],e=0;e<arguments.length;e++){var s=arguments[e];if(s){var i=typeof s;if("string"===i||"number"===i)a.push(s);else if(Array.isArray(s)){if(s.length){var c=r.apply(null,s);c&&a.push(c)}}else if("object"===i){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){a.push(s.toString());continue}for(var n in s)b.call(s,n)&&s[n]&&a.push(n)}}}return a.join(" ")}a.exports?(r.default=r,a.exports=r):void 0!==(s=(function(){return r}).apply(e,[]))&&(a.exports=s)}()},7424:function(a,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/backend/Repair/Repair_Detail/[Order_ID]",function(){return s(6489)}])},6489:function(a,e,s){"use strict";s.r(e),s.d(e,{default:function(){return t}});var b=s(5893),r=s(645),i=s.n(r),c=s(2198),n=s(1163),o=s(7294);function t(){let a=(0,n.useRouter)(),{Order_ID:e}=a.query,[s,r]=(0,o.useState)({}),[t,l]=(0,o.useState)([]),[d,x]=(0,o.useState)(0),[m,j]=(0,o.useState)(0);(0,o.useEffect)(()=>{e&&fetch("https://server.jtppmotor.com/api/his_detailRepair/".concat(e)).then(a=>a.json()).then(a=>{if(console.log("Data received:",a),Array.isArray(a)&&a.length>0){var e;let s=a[0];r({name:s.hr_User_Name||"N/A",tel:s.hr_User_Tel||"N/A",email:s.hr_User_Email||"N/A",brand:s.hr_Brand_Name||"N/A",model:s.hr_Model_Name||"N/A",licensePlate:"".concat(s.Alphabet||""," ").concat(s.Arabic_Numbers||""," ").concat(s.Province||"").trim()||"N/A",repairDate:s.hr_Repair_Date?new Date(s.hr_Repair_Date).toLocaleDateString():"N/A",pickupDate:s.hr_Repair_PickupDate?new Date(s.hr_Repair_PickupDate).toLocaleDateString():"N/A"}),l(a);let b=a.reduce((a,e)=>a+(e.hr_TotalProduct_Price||0),0),i=(null===(e=a[0])||void 0===e?void 0:e.hr_Repair_Costwork)||0;x(b+i),j(i)}else console.error("Invalid data format:",a),h()}).catch(a=>{console.error("Error fetching order details:",a),h()})},[e]);let h=()=>{r({name:"N/A",tel:"N/A",email:"N/A"}),l([]),x(0),j(0)},p=a=>a.toLocaleString("th-TH",{style:"currency",currency:"THB"});return(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa d-flex",children:[(0,b.jsx)(c.default,{}),(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa flex-grow-1",children:(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa container",children:[(0,b.jsx)("div",{style:{width:"100%",height:"50px"},className:"jsx-4c5ab0874bb3a4aa d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa d-flex justify-content-end w-98",children:(0,b.jsx)("button",{type:"button",onClick:()=>{a.push("/backend/Repair/Repair_his")},className:"jsx-4c5ab0874bb3a4aa btn btn-sm btn-outline-secondary",children:"ย้อนกลับ"})})}),(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa d-flex flex-wrap align-items-center justify-content-center justify-content-md-between",children:(0,b.jsxs)("a",{className:"jsx-4c5ab0874bb3a4aa d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none",children:[(0,b.jsx)("i",{className:"jsx-4c5ab0874bb3a4aa bi bi-tools me-2"}),"รายละเอียด"]})}),(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa mt-4"}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa row g-4",children:[(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa col-md-6",children:(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa card h-100 customer-info-card",children:[(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa card-header income-gradient text-white",children:(0,b.jsxs)("h5",{className:"jsx-4c5ab0874bb3a4aa card-title mb-0",children:[(0,b.jsx)("i",{className:"jsx-4c5ab0874bb3a4aa bi bi-person-circle me-2"}),"ข้อมูลลูกค้า"]})}),(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa card-body",children:(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-sections",children:[(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-section",children:[(0,b.jsx)("h6",{className:"jsx-4c5ab0874bb3a4aa section-title",children:"ข้อมูลส่วนตัว"}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-group",children:[(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-row",children:[(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-label",children:"ชื่อ-นามสกุล:"}),(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-value",children:s.name})]}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-row",children:[(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-label",children:"เบอร์โทรศัพท์:"}),(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-value",children:s.tel})]}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-row",children:[(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-label",children:"อีเมล:"}),(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-value",children:s.email})]})]})]}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-section",children:[(0,b.jsx)("h6",{className:"jsx-4c5ab0874bb3a4aa section-title",children:"ข้อมูลรถ"}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-group",children:[(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-row",children:[(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-label",children:"ยี่ห้อ:"}),(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-value",children:s.brand})]}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-row",children:[(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-label",children:"รุ่น:"}),(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-value",children:s.model})]}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-row",children:[(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-label",children:"ทะเบียน:"}),(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-value highlight",children:s.licensePlate})]})]})]}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-section",children:[(0,b.jsx)("h6",{className:"jsx-4c5ab0874bb3a4aa section-title",children:"ข้อมูลการซ่อม"}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-group",children:[(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-row",children:[(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-label",children:"วันที่มาส่ง:"}),(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-value date",children:s.repairDate})]}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa info-row",children:[(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-label",children:"วันที่มารับ:"}),(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa info-value date",children:s.pickupDate})]})]})]})]})})]})}),(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa col-md-6",children:(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa card h-100",children:(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa card-body",children:[(0,b.jsxs)("h5",{className:"jsx-4c5ab0874bb3a4aa card-title",children:[(0,b.jsx)("i",{className:"jsx-4c5ab0874bb3a4aa bi bi-box-seam me-2"}),"ข้อมูลสินค้า"]}),(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa table-responsive",children:(0,b.jsxs)("table",{className:"jsx-4c5ab0874bb3a4aa table table-hover",children:[(0,b.jsx)("thead",{className:"jsx-4c5ab0874bb3a4aa table-light",children:(0,b.jsxs)("tr",{className:"jsx-4c5ab0874bb3a4aa",children:[(0,b.jsx)("th",{className:"jsx-4c5ab0874bb3a4aa",children:"รหัส"}),(0,b.jsx)("th",{className:"jsx-4c5ab0874bb3a4aa",children:"ชื่อสินค้า"}),(0,b.jsx)("th",{className:"jsx-4c5ab0874bb3a4aa",children:"ราคา"}),(0,b.jsx)("th",{className:"jsx-4c5ab0874bb3a4aa",children:"จำนวน"}),(0,b.jsx)("th",{className:"jsx-4c5ab0874bb3a4aa",children:"รวม"}),(0,b.jsx)("th",{className:"jsx-4c5ab0874bb3a4aa",children:"สถานะ"})]})}),(0,b.jsx)("tbody",{className:"jsx-4c5ab0874bb3a4aa",children:t.length>0?t.map(a=>(0,b.jsxs)("tr",{className:"jsx-4c5ab0874bb3a4aa",children:[(0,b.jsx)("td",{className:"jsx-4c5ab0874bb3a4aa",children:a.hr_Product_ID}),(0,b.jsx)("td",{className:"jsx-4c5ab0874bb3a4aa",children:a.hr_Product_Name}),(0,b.jsx)("td",{className:"jsx-4c5ab0874bb3a4aa",children:p(a.hr_Product_Price)}),(0,b.jsx)("td",{className:"jsx-4c5ab0874bb3a4aa",children:a.hr_Product_Amount}),(0,b.jsx)("td",{className:"jsx-4c5ab0874bb3a4aa",children:p(a.hr_TotalProduct_Price)}),(0,b.jsx)("td",{className:"jsx-4c5ab0874bb3a4aa",children:1===a.hr_Repair_parts?(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa badge bg-info",children:"อะไหล่ซ่อม"}):(0,b.jsx)("span",{className:"jsx-4c5ab0874bb3a4aa badge bg-secondary",children:"สินค้าขายออก"})})]},a.hr_Product_ID)):(0,b.jsx)("tr",{className:"jsx-4c5ab0874bb3a4aa",children:(0,b.jsx)("td",{colSpan:"6",className:"jsx-4c5ab0874bb3a4aa text-center",children:"ไม่มีข้อมูล"})})})]})})]})})})]}),(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa card mt-4",children:(0,b.jsx)("div",{className:"jsx-4c5ab0874bb3a4aa card-body",children:(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa d-flex justify-content-between",children:[(0,b.jsxs)("h5",{className:"jsx-4c5ab0874bb3a4aa card-title",children:[(0,b.jsx)("i",{className:"jsx-4c5ab0874bb3a4aa bi bi-cash-coin me-2"}),"สรุปค่าใช้จ่าย"]}),(0,b.jsxs)("div",{className:"jsx-4c5ab0874bb3a4aa",children:[(0,b.jsxs)("p",{className:"jsx-4c5ab0874bb3a4aa mb-0",children:[(0,b.jsx)("strong",{className:"jsx-4c5ab0874bb3a4aa",children:"ค่าแรงพนักงาน:"})," ",p(m)]}),(0,b.jsxs)("p",{className:"jsx-4c5ab0874bb3a4aa mb-0",children:[(0,b.jsx)("strong",{className:"jsx-4c5ab0874bb3a4aa",children:"ราคารวมทั้งหมด:"})," ",p(d)]})]})]})})})]})}),(0,b.jsx)(i(),{id:"4c5ab0874bb3a4aa",children:".container.jsx-4c5ab0874bb3a4aa{background-color:#f0f2f5;min-height:100vh;padding:15px;max-width:1400px;margin:0 auto}.card.jsx-4c5ab0874bb3a4aa{-webkit-box-shadow:0 0 15px rgba(0,0,0,.1);-moz-box-shadow:0 0 15px rgba(0,0,0,.1);box-shadow:0 0 15px rgba(0,0,0,.1);border:none;-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;-webkit-transition:-webkit-transform.2s,box-shadow.2s;-moz-transition:-moz-transform.2s,box-shadow.2s;-o-transition:-o-transform.2s,box-shadow.2s;transition:-webkit-transform.2s,box-shadow.2s;transition:-moz-transform.2s,box-shadow.2s;transition:-o-transform.2s,box-shadow.2s;transition:transform.2s,box-shadow.2s;margin-bottom:15px}.card.jsx-4c5ab0874bb3a4aa:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 .5rem 1rem rgba(0,0,0,.15);-moz-box-shadow:0 .5rem 1rem rgba(0,0,0,.15);box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.card-header.jsx-4c5ab0874bb3a4aa .card-title.jsx-4c5ab0874bb3a4aa{color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.2);font-size:1.2rem;margin:0;padding:0;border:none;letter-spacing:.5px}.income-gradient.jsx-4c5ab0874bb3a4aa{background:-webkit-linear-gradient(315deg,#1a5f7a 0%,#2c3e50 100%);background:-moz-linear-gradient(315deg,#1a5f7a 0%,#2c3e50 100%);background:-o-linear-gradient(315deg,#1a5f7a 0%,#2c3e50 100%);background:linear-gradient(135deg,#1a5f7a 0%,#2c3e50 100%);padding:1.2rem;border-bottom:3px solid rgba(255,255,255,.1)}.card-title.jsx-4c5ab0874bb3a4aa{color:#2c3e50;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid rgba(0,0,0,.1);font-size:1.1rem}.info-sections.jsx-4c5ab0874bb3a4aa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem}.info-section.jsx-4c5ab0874bb3a4aa{background:#f8f9fa;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:.8rem}.section-title.jsx-4c5ab0874bb3a4aa{color:#2c3e50;font-weight:600;margin-bottom:.8rem;padding-bottom:.5rem;border-bottom:2px solid#e9ecef;font-size:1rem}.info-group.jsx-4c5ab0874bb3a4aa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.5rem}.info-row.jsx-4c5ab0874bb3a4aa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:.3rem;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.info-row.jsx-4c5ab0874bb3a4aa:hover{background-color:#e9ecef}.info-label.jsx-4c5ab0874bb3a4aa{color:#6c757d;font-weight:500;min-width:120px}.info-value.jsx-4c5ab0874bb3a4aa{color:#2c3e50;font-weight:600}.info-value.highlight.jsx-4c5ab0874bb3a4aa{background:#e9ecef;padding:.25rem .5rem;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-family:monospace;letter-spacing:1px}.info-value.date.jsx-4c5ab0874bb3a4aa{color:#2980b9}.table.jsx-4c5ab0874bb3a4aa{-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;overflow:hidden}.table.jsx-4c5ab0874bb3a4aa thead.jsx-4c5ab0874bb3a4aa th.jsx-4c5ab0874bb3a4aa{background:-webkit-linear-gradient(45deg,#34495e,#415b76);background:-moz-linear-gradient(45deg,#34495e,#415b76);background:-o-linear-gradient(45deg,#34495e,#415b76);background:linear-gradient(45deg,#34495e,#415b76);color:#fff;font-weight:500;padding:10px;font-size:.95rem;border:none;text-transform:uppercase;letter-spacing:.5px}.table.jsx-4c5ab0874bb3a4aa tbody.jsx-4c5ab0874bb3a4aa tr.jsx-4c5ab0874bb3a4aa{-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.table.jsx-4c5ab0874bb3a4aa tbody.jsx-4c5ab0874bb3a4aa tr.jsx-4c5ab0874bb3a4aa:hover{background-color:rgba(52,152,219,.05);-webkit-transform:scale(1.005);-moz-transform:scale(1.005);-ms-transform:scale(1.005);-o-transform:scale(1.005);transform:scale(1.005)}.badge.jsx-4c5ab0874bb3a4aa{padding:8px 12px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;font-weight:500}.badge.bg-info.jsx-4c5ab0874bb3a4aa{background:-webkit-linear-gradient(45deg,#3498db,#2980b9)!important;background:-moz-linear-gradient(45deg,#3498db,#2980b9)!important;background:-o-linear-gradient(45deg,#3498db,#2980b9)!important;background:linear-gradient(45deg,#3498db,#2980b9)!important}.badge.bg-secondary.jsx-4c5ab0874bb3a4aa{background:-webkit-linear-gradient(45deg,#95a5a6,#7f8c8d)!important;background:-moz-linear-gradient(45deg,#95a5a6,#7f8c8d)!important;background:-o-linear-gradient(45deg,#95a5a6,#7f8c8d)!important;background:linear-gradient(45deg,#95a5a6,#7f8c8d)!important}.btn-outline-secondary.jsx-4c5ab0874bb3a4aa{-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;padding:8px 16px;-webkit-transition:all.3s;-moz-transition:all.3s;-o-transition:all.3s;transition:all.3s}.btn-outline-secondary.jsx-4c5ab0874bb3a4aa:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px)}.table-responsive.jsx-4c5ab0874bb3a4aa{padding:5px}.card-body.jsx-4c5ab0874bb3a4aa{padding:1rem}strong.jsx-4c5ab0874bb3a4aa{color:#2c3e50}p.jsx-4c5ab0874bb3a4aa{color:#34495e;margin-bottom:.75rem}"})]})}}},function(a){a.O(0,[645,2198,2888,9774,179],function(){return a(a.s=7424)}),_N_E=a.O()}]);