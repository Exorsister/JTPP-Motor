(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3004],{2640:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/backend/Admin/Add_Admin",function(){return a(3217)}])},3217:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return p}});var n=a(5893),t=a(2198),r=a(7294),l=a(1163),o=a(1351),i=a(9101),d=a(8070),c=a(6720),m=a(1982);function p(){let e=(0,l.useRouter)(),[s,a]=(0,r.useState)({firstname:"",lastname:"",tel:"",email:"",password:"",confirmPassword:""}),[p,x]=(0,r.useState)({}),h=e=>{a(s=>({...s,[e.target.name]:e.target.value}))},f=async a=>{a.preventDefault();let n=(0,m.Z)(s);if(x(n),Object.keys(n).length>0)return;if(s.password!==s.confirmPassword){x({confirmPassword:"รหัสผ่านไม่ตรงกัน"});return}let t=await fetch("https://server.jtppmotor.com/api/admin_reg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await t.json();t.ok?(console.log("ลงทะเบียนสำเร็จ"),e.push("/backend/Admin/Administrator")):(x({apiError:"มีข้อผิดพลาดในการลงทะเบียน: ".concat(r.error)}),console.error("มีข้อผิดพลาดในการลงทะเบียน:",r.error))};return(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsx)(t.default,{}),(0,n.jsx)("div",{className:"flex-grow-1",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",style:{width:"100%",height:"50px"},children:(0,n.jsx)("div",{className:"d-flex justify-content-end w-98",children:(0,n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>{e.push("/backend/Admin/Administrator")},children:"ย้อนกลับ"})})}),(0,n.jsx)("div",{className:"d-flex flex-wrap align-items-center justify-content-center justify-content-md-between",children:(0,n.jsxs)("a",{className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none",children:[(0,n.jsx)("i",{class:"bi bi-person-fill-gear me-2"}),"เพิ่มผู้ดูแลระบบ"]})}),(0,n.jsx)("div",{className:"my-4"}),(0,n.jsxs)(o.Z,{onSubmit:f,children:[(0,n.jsxs)(i.Z,{className:"mb-3",children:[(0,n.jsxs)(o.Z.Group,{as:d.Z,controlId:"firstname",children:[(0,n.jsx)(o.Z.Label,{children:"ชื่อ"}),(0,n.jsx)(o.Z.Control,{type:"text",placeholder:"FirstName",name:"firstname",onChange:h}),p.firstname&&(0,n.jsx)("span",{className:"text-danger",children:p.firstname})]}),(0,n.jsxs)(o.Z.Group,{as:d.Z,controlId:"LastName",children:[(0,n.jsx)(o.Z.Label,{children:"นามสกุล"}),(0,n.jsx)(o.Z.Control,{type:"text",placeholder:"LastName",name:"lastname",onChange:h}),p.lastname&&(0,n.jsx)("span",{className:"text-danger",children:p.lastname})]}),(0,n.jsxs)(o.Z.Group,{as:d.Z,controlId:"Tel",children:[(0,n.jsx)(o.Z.Label,{children:"เบอร์โทรศัพท์"}),(0,n.jsx)(o.Z.Control,{type:"text",placeholder:"Tel",name:"tel",onChange:h}),p.tel&&(0,n.jsx)("span",{className:"text-danger",children:p.tel})]})]}),(0,n.jsxs)(i.Z,{className:"mb-3",children:[(0,n.jsxs)(o.Z.Group,{as:d.Z,controlId:"email",children:[(0,n.jsx)(o.Z.Label,{children:"อีเมล"}),(0,n.jsx)(o.Z.Control,{type:"email",placeholder:"Email",name:"email",onChange:h}),p.email&&(0,n.jsx)("span",{className:"text-danger",children:p.email})]}),(0,n.jsxs)(o.Z.Group,{as:d.Z,controlId:"password",children:[(0,n.jsx)(o.Z.Label,{children:"รหัสผ่าน"}),(0,n.jsx)(o.Z.Control,{type:"password",placeholder:"Password",name:"password",onChange:h}),p.password&&(0,n.jsx)("span",{className:"text-danger",children:p.password})]}),(0,n.jsxs)(o.Z.Group,{as:d.Z,controlId:"confirmPassword",children:[(0,n.jsx)(o.Z.Label,{children:"ยืนยันรหัสผ่าน"}),(0,n.jsx)(o.Z.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",onChange:h}),p.confirmPassword&&(0,n.jsx)("span",{className:"text-danger",children:p.confirmPassword})]})]}),(0,n.jsx)(c.Z,{variant:"primary",type:"submit",children:"ยืนยัน"})]})]})})]})}},1982:function(e,s,a){"use strict";function n(e){let s={},a=/^[a-zA-Zก-ฮะ-์]+$/;return""===e.firstname?s.firstname="ชื่อไม่ควรที่จะเป็นช่องว่าง":a.test(e.firstname)||(s.firstname="ชื่อไม่ควรมีตัวเลขหรืออักษรพิเศษ"),""===e.lastname?s.lastname="นามสกุลไม่ควรที่จะเป็นช่องว่าง":a.test(e.lastname)||(s.lastname="นามสกุลไม่ควรมีตัวเลขหรืออักษรพิเศษ"),""===e.email?s.email="อีเมลไม่ควรที่จะเป็นช่องว่าง":/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.email)||(s.email="อีเมลไม่ถูกต้อง"),""===e.password?s.password="รหัสไม่ควรที่จะเป็นช่องว่าง":/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,20}/.test(e.password)||(s.password="รหัสผ่านไม่ถูกต้อง"),""===e.tel?s.tel="เบอร์โทรศัพท์ไม่ควรที่จะเป็นช่องว่าง":/^\d{10}$/.test(e.tel)||(s.tel="เบอร์โทรศัพท์ไม่ถูกต้อง"),s}a.d(s,{Z:function(){return n}})}},function(e){e.O(0,[2591,2198,2888,9774,179],function(){return e(e.s=2640)}),_N_E=e.O()}]);