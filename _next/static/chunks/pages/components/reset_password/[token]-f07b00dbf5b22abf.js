(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[877],{9290:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/reset_password/[token]",function(){return t(9320)}])},1365:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var i=t(5893);function r(){return(0,i.jsx)("footer",{style:{width:"100%",backgroundColor:"#382424",marginTop:"auto"},children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"py-4 px-4",children:[(0,i.jsxs)("div",{className:"row text-center text-md-start",children:[(0,i.jsxs)("div",{className:"col-12 col-md-4 mb-3 d-flex flex-column align-items-center align-items-md-start",children:[(0,i.jsx)("h5",{className:"text-white",children:"JTPP MOTOR"}),(0,i.jsx)("p",{className:"text-white",style:{fontSize:"1rem",lineHeight:"1.6"},children:"จำหน่ายอะไหล่มอเตอร์ไซค์คุณภาพดี ราคาเป็นมิตร พร้อมบริการที่ประทับใจ"})]}),(0,i.jsxs)("div",{className:"col-12 col-md-4 mb-3 d-flex flex-column align-items-center align-items-md-start",children:[(0,i.jsx)("h5",{className:"text-white",children:"ติดต่อเรา"}),(0,i.jsxs)("ul",{className:"list-unstyled",children:[(0,i.jsxs)("li",{className:"text-white",style:{fontSize:"1rem"},children:[(0,i.jsx)("i",{className:"bi bi-geo-alt me-2"})," 199/2, ตำบลดงเย็น, อำเภอบ้านดุง, อุดรธานี 41190"]}),(0,i.jsxs)("li",{className:"text-white",style:{fontSize:"1rem"},children:[(0,i.jsx)("i",{className:"bi bi-telephone me-2"})," 095-606-4364"]})]})]}),(0,i.jsxs)("div",{className:"col-12 col-md-4 mb-3 d-flex flex-column align-items-center align-items-md-end",children:[(0,i.jsx)("h5",{className:"text-white",children:"ติดตามเรา"}),(0,i.jsxs)("div",{className:"d-flex gap-3 justify-content-center",children:[(0,i.jsx)("a",{href:"#",className:"text-white fs-3",children:(0,i.jsx)("i",{className:"bi bi-facebook"})}),(0,i.jsx)("a",{href:"#",className:"text-white fs-3",children:(0,i.jsx)("i",{className:"bi bi-line"})}),(0,i.jsx)("a",{href:"#",className:"text-white fs-3",children:(0,i.jsx)("i",{className:"bi bi-instagram"})})]})]})]}),(0,i.jsx)("div",{className:"border-top pt-3 mt-3 text-center",children:(0,i.jsx)("p",{className:"mb-0 text-white",style:{fontSize:"0.9rem"},children:"\xa9 2023 JTPP MOTOR. All rights reserved."})})]})})})}},9320:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var i=t(5893),r=t(7294),l=t(763),a=t(1365),n=t(6455),c=t.n(n),d=t(1163);function o(){let[e,s]=(0,r.useState)(""),[t,n]=(0,r.useState)(null),o=(0,d.useRouter)();(0,r.useEffect)(()=>{o.isReady&&o.query.token&&n(o.query.token)},[o.isReady,o.query.token]);let m=async s=>{if(s.preventDefault(),!e){c().fire({icon:"error",title:"กรุณากรอกรหัสผ่านใหม่",text:"รหัสผ่านไม่สามารถเว้นว่างได้"});return}if(!/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,20}$/.test(e)){c().fire({icon:"error",title:"รูปแบบรหัสผ่านไม่ถูกต้อง",text:"รหัสผ่านต้องมีความยาว 8-20 ตัวอักษร ประกอบด้วยตัวพิมพ์ใหญ่ ตัวพิมพ์เล็ก ตัวเลข และอักขระพิเศษ"});return}if(!t){c().fire({icon:"error",title:"เกิดข้อผิดพลาด",text:"Token ไม่ถูกต้อง"});return}try{let s=await fetch("https://server.jtppmotor.com/api/reset-password/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newPassword:e})}),i=await s.json();if(s.ok)c().fire({icon:"success",title:"สำเร็จ",text:"ตั้งค่ารหัสผ่านใหม่สำเร็จ"}).then(()=>{o.push("/components/Login")});else throw Error(i.error||"ไม่สามารถดำเนินการได้")}catch(e){c().fire({icon:"error",title:"เกิดข้อผิดพลาด",text:e.message})}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.default,{}),(0,i.jsx)("div",{className:"container min-vh-100 d-flex align-items-center justify-content-center py-5",children:(0,i.jsxs)("div",{className:"card shadow-lg border-0",style:{maxWidth:"500px",width:"100%"},children:[(0,i.jsx)("div",{className:"card-header bg-primary text-white text-center py-4",children:(0,i.jsx)("h3",{className:"mb-0",children:"ตั้งรหัสผ่านใหม่"})}),(0,i.jsx)("div",{className:"card-body p-4",children:(0,i.jsxs)("form",{onSubmit:m,children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{htmlFor:"newPassword",className:"form-label fw-bold",children:"รหัสผ่านใหม่"}),(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("span",{className:"input-group-text",children:(0,i.jsx)("i",{className:"bi bi-lock-fill"})}),(0,i.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"newPassword",placeholder:"กรอกรหัสผ่านใหม่",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,i.jsx)("div",{className:"form-text text-muted",children:"กรุณากรอกรหัสผ่านใหม่ของคุณ"})]}),(0,i.jsx)("div",{className:"d-grid",children:(0,i.jsxs)("button",{type:"submit",className:"btn btn-primary btn-lg",children:[(0,i.jsx)("i",{className:"bi bi-check-circle me-2"}),"ยืนยันการตั้งรหัสผ่านใหม่"]})})]})})]})}),(0,i.jsx)(a.default,{})]})}}},function(e){e.O(0,[1664,763,2888,9774,179],function(){return e(e.s=9290)}),_N_E=e.O()}]);