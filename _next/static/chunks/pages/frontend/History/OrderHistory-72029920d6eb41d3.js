(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2638],{5187:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/frontend/History/OrderHistory",function(){return t(8303)}])},1365:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var a=t(5893);function l(){return(0,a.jsx)("footer",{style:{width:"100%",backgroundColor:"#382424",marginTop:"auto"},children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"py-4 px-4",children:[(0,a.jsxs)("div",{className:"row text-center text-md-start",children:[(0,a.jsxs)("div",{className:"col-12 col-md-4 mb-3 d-flex flex-column align-items-center align-items-md-start",children:[(0,a.jsx)("h5",{className:"text-white",children:"JTPP MOTOR"}),(0,a.jsx)("p",{className:"text-white",style:{fontSize:"1rem",lineHeight:"1.6"},children:"จำหน่ายอะไหล่มอเตอร์ไซค์คุณภาพดี ราคาเป็นมิตร พร้อมบริการที่ประทับใจ"})]}),(0,a.jsxs)("div",{className:"col-12 col-md-4 mb-3 d-flex flex-column align-items-center align-items-md-start",children:[(0,a.jsx)("h5",{className:"text-white",children:"ติดต่อเรา"}),(0,a.jsxs)("ul",{className:"list-unstyled",children:[(0,a.jsxs)("li",{className:"text-white",style:{fontSize:"1rem"},children:[(0,a.jsx)("i",{className:"bi bi-geo-alt me-2"})," 199/2, ตำบลดงเย็น, อำเภอบ้านดุง, อุดรธานี 41190"]}),(0,a.jsxs)("li",{className:"text-white",style:{fontSize:"1rem"},children:[(0,a.jsx)("i",{className:"bi bi-telephone me-2"})," 095-606-4364"]})]})]}),(0,a.jsxs)("div",{className:"col-12 col-md-4 mb-3 d-flex flex-column align-items-center align-items-md-end",children:[(0,a.jsx)("h5",{className:"text-white",children:"ติดตามเรา"}),(0,a.jsxs)("div",{className:"d-flex gap-3 justify-content-center",children:[(0,a.jsx)("a",{href:"#",className:"text-white fs-3",children:(0,a.jsx)("i",{className:"bi bi-facebook"})}),(0,a.jsx)("a",{href:"#",className:"text-white fs-3",children:(0,a.jsx)("i",{className:"bi bi-line"})}),(0,a.jsx)("a",{href:"#",className:"text-white fs-3",children:(0,a.jsx)("i",{className:"bi bi-instagram"})})]})]})]}),(0,a.jsx)("div",{className:"border-top pt-3 mt-3 text-center",children:(0,a.jsx)("p",{className:"mb-0 text-white",style:{fontSize:"0.9rem"},children:"\xa9 2023 JTPP MOTOR. All rights reserved."})})]})})})}},8303:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(5893),l=t(7294),i=t(1163),c=t(763),n=t(1365),r=t(6245);function d(){let[e,s]=(0,l.useState)([]),[t,d]=(0,l.useState)(!0),x=(0,i.useRouter)();return((0,l.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(!e){x.push("/login");return}let t=(0,r.Z)(e);try{let e=await fetch("https://server.jtppmotor.com/api/order-history/".concat(t.User_ID)),a=await e.json();s(a)}catch(e){console.error("Error fetching order history:",e)}finally{d(!1)}})()},[]),t)?(0,a.jsxs)("div",{className:"app-container",children:[(0,a.jsx)(c.default,{}),(0,a.jsx)("main",{className:"content",children:(0,a.jsx)("div",{className:"container py-5 text-center",children:(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"กำลังโหลด..."})})})}),(0,a.jsx)(n.default,{})]}):(0,a.jsxs)("div",{className:"app-container",children:[(0,a.jsx)(c.default,{}),(0,a.jsx)("main",{className:"content",children:(0,a.jsxs)("div",{className:"container py-4",children:[(0,a.jsx)("h2",{className:"mb-4 text-center",children:"ประวัติการจอง"}),0===e.length?(0,a.jsx)("div",{className:"text-center py-5",children:(0,a.jsx)("p",{className:"text-muted",children:"ไม่พบประวัติการจอง"})}):(0,a.jsx)("div",{className:"table-responsive",children:(0,a.jsxs)("table",{className:"table table-bordered table-striped text-center",children:[(0,a.jsx)("thead",{className:"table-dark",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"รหัสการจอง"}),(0,a.jsx)("th",{children:"วันที่"}),(0,a.jsx)("th",{children:"รายการสินค้า"}),(0,a.jsx)("th",{children:"สถานะ"}),(0,a.jsx)("th",{children:"ราคารวม"})]})}),(0,a.jsx)("tbody",{className:"text-center align-middle",children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"fw-bold",children:e.order_id}),(0,a.jsx)("td",{children:new Date(e.created_at).toLocaleDateString("th-TH")}),(0,a.jsx)("td",{children:(0,a.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,a.jsx)("strong",{children:e.product_name}),(0,a.jsxs)("p",{className:"mb-0 text-muted",children:["จำนวน: ",e.amount," ชิ้น"]})]})}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"badge px-3 py-2 ".concat("ดำเนินการเสร็จสิ้น"===e.status?"bg-success":"กำลังดำเนินการ"===e.status?"bg-warning text-dark":"bg-secondary"),children:e.status||"รอดำเนินการ"})}),(0,a.jsxs)("td",{className:"fw-bold text-success",children:["฿",Number(e.total_price).toLocaleString()]})]},e.order_id))})]})})]})}),(0,a.jsx)(n.default,{})]})}}},function(e){e.O(0,[1664,763,2888,9774,179],function(){return e(e.s=5187)}),_N_E=e.O()}]);