(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8709],{562:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/frontend/History/RepairHistory",function(){return t(1609)}])},1365:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return a}});var l=t(5893);function a(){return(0,l.jsx)("footer",{style:{width:"100%",backgroundColor:"#382424",marginTop:"auto"},children:(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"py-4 px-4",children:[(0,l.jsxs)("div",{className:"row text-center text-md-start",children:[(0,l.jsxs)("div",{className:"col-12 col-md-4 mb-3 d-flex flex-column align-items-center align-items-md-start",children:[(0,l.jsx)("h5",{className:"text-white",children:"JTPP MOTOR"}),(0,l.jsx)("p",{className:"text-white",style:{fontSize:"1rem",lineHeight:"1.6"},children:"จำหน่ายอะไหล่มอเตอร์ไซค์คุณภาพดี ราคาเป็นมิตร พร้อมบริการที่ประทับใจ"})]}),(0,l.jsxs)("div",{className:"col-12 col-md-4 mb-3 d-flex flex-column align-items-center align-items-md-start",children:[(0,l.jsx)("h5",{className:"text-white",children:"ติดต่อเรา"}),(0,l.jsxs)("ul",{className:"list-unstyled",children:[(0,l.jsxs)("li",{className:"text-white",style:{fontSize:"1rem"},children:[(0,l.jsx)("i",{className:"bi bi-geo-alt me-2"})," 199/2, ตำบลดงเย็น, อำเภอบ้านดุง, อุดรธานี 41190"]}),(0,l.jsxs)("li",{className:"text-white",style:{fontSize:"1rem"},children:[(0,l.jsx)("i",{className:"bi bi-telephone me-2"})," 095-606-4364"]})]})]}),(0,l.jsxs)("div",{className:"col-12 col-md-4 mb-3 d-flex flex-column align-items-center align-items-md-end",children:[(0,l.jsx)("h5",{className:"text-white",children:"ติดตามเรา"}),(0,l.jsxs)("div",{className:"d-flex gap-3 justify-content-center",children:[(0,l.jsx)("a",{href:"#",className:"text-white fs-3",children:(0,l.jsx)("i",{className:"bi bi-facebook"})}),(0,l.jsx)("a",{href:"#",className:"text-white fs-3",children:(0,l.jsx)("i",{className:"bi bi-line"})}),(0,l.jsx)("a",{href:"#",className:"text-white fs-3",children:(0,l.jsx)("i",{className:"bi bi-instagram"})})]})]})]}),(0,l.jsx)("div",{className:"border-top pt-3 mt-3 text-center",children:(0,l.jsx)("p",{className:"mb-0 text-white",style:{fontSize:"0.9rem"},children:"\xa9 2023 JTPP MOTOR. All rights reserved."})})]})})})}},1609:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var l=t(5893),a=t(7294),i=t(1163),c=t(763),n=t(1365),r=t(6245);function d(){let[e,s]=(0,a.useState)([]),[t,d]=(0,a.useState)(!0),x=(0,i.useRouter)();return((0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(!e){x.push("/login");return}try{let t=(0,r.Z)(e),l=await fetch("https://server.jtppmotor.com/api/repair-history/".concat(t.User_ID)),a=await l.json();console.log("ข้อมูลประวัติการซ่อม:",a),s(a)}catch(e){console.error("Error:",e)}finally{d(!1)}})()},[]),t)?(0,l.jsxs)("div",{className:"app-container",children:[(0,l.jsx)(c.default,{}),(0,l.jsx)("main",{className:"content",children:(0,l.jsx)("div",{className:"container py-5 text-center",children:(0,l.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"กำลังโหลด..."})})})}),(0,l.jsx)(n.default,{})]}):(0,l.jsxs)("div",{className:"app-container",children:[(0,l.jsx)(c.default,{}),(0,l.jsx)("main",{className:"content",children:(0,l.jsxs)("div",{className:"container py-4",children:[(0,l.jsx)("h2",{className:"mb-4 text-center",children:"ประวัติการซ่อม"}),0===e.length?(0,l.jsxs)("div",{className:"text-center py-5",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("i",{className:"bi bi-tools",style:{fontSize:"3rem",color:"#6c757d"}})}),(0,l.jsx)("p",{className:"text-muted",children:"ยังไม่มีประวัติการซ่อม"}),(0,l.jsx)("p",{className:"text-muted",children:"หากคุณเคยใช้บริการซ่อมกับทางร้าน กรุณาติดต่อพนักงานเพื่อเชื่อมต่อข้อมูลการซ่อมกับบัญชีของคุณ"})]}):(0,l.jsx)("div",{className:"table-responsive",children:(0,l.jsxs)("table",{className:"table table-bordered table-striped text-center",children:[(0,l.jsx)("thead",{className:"table-dark",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"รหัสการซ่อม"}),(0,l.jsx)("th",{children:"วันที่ซ่อม"}),(0,l.jsx)("th",{children:"วันที่มารับรถ"}),(0,l.jsx)("th",{children:"ข้อมูลรถ"}),(0,l.jsx)("th",{children:"รายการสินค้า"}),(0,l.jsx)("th",{children:"ราคารวม"})]})}),(0,l.jsx)("tbody",{className:"text-center align-middle",children:e.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"fw-bold",children:e.repair_id}),(0,l.jsx)("td",{children:new Date(e.created_at).toLocaleDateString("th-TH")}),(0,l.jsx)("td",{children:e.pickup_date?new Date(e.pickup_date).toLocaleDateString("th-TH"):(0,l.jsx)("span",{className:"text-muted",children:"ยังไม่มารับ"})}),(0,l.jsxs)("td",{children:[(0,l.jsxs)("strong",{children:[e.brand," ",e.model]}),(0,l.jsx)("br",{}),(0,l.jsxs)("small",{className:"text-muted",children:["\uD83D\uDE97 ทะเบียน: ",e.license_plate]})]}),(0,l.jsx)("td",{children:e.product_name?(0,l.jsx)("strong",{children:e.product_name}):(0,l.jsx)("span",{className:"text-muted",children:"ไม่มีสินค้า"})}),(0,l.jsxs)("td",{className:"fw-bold text-success",children:["฿",e.total_price.toLocaleString()]})]},e.repair_id))})]})})]})}),(0,l.jsx)(n.default,{})]})}}},function(e){e.O(0,[1664,763,2888,9774,179],function(){return e(e.s=562)}),_N_E=e.O()}]);